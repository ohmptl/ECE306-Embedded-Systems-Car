/*
 * ports.c
 *
 *  Created on: Sep 11, 2025
 *      Author: ohmap
 */


#include "ports.h"
#include "msp430.h"
#include "macros.h"
#include  "ports.h"


void Init_Port4(void){            // Configure PORT 4
//------------------------------------------------------------------------------
    P4OUT = 0x00;                 // P4 set Low
    P4DIR = 0x00;                 // Set P4 direction to output

    P4SEL0 &= ~RESET_LCD;         // RESET_LCD GPIO operation
    P4SEL1 &= ~RESET_LCD;         // RESET_LCD GPIO operation
    P4OUT &= ~RESET_LCD;          // Initial Value = Low / Off
    P4DIR |= RESET_LCD;           // Direction = output

    P4SEL0 &= ~SW1;               // SW1 GPIO operation
    P4SEL1 &= ~SW1;               // SW1 GPIO operation
    P4OUT |= SW1;                 // Configure pullup resistor
    P4DIR &= ~SW1;                // Direction = input
    P4REN |= SW1;                 // Enable pullup resistor

    P4SEL0 |= UCA1TXD;            // USCI_A1 UART operation
    P4SEL1 &= ~UCA1TXD;           // USCI_A1 UART operation

    P4SEL0 |= UCA1RXD;            // USCI_A1 UART operation
    P4SEL1 &= ~UCA1RXD;           // USCI_A1 UART operation

    P4SEL0 &= ~UCB1_CS_LCD;       // UCB1_CS_LCD GPIO operation
    P4SEL1 &= ~UCB1_CS_LCD;       // UCB1_CS_LCD GPIO operation
    P4OUT |= UCB1_CS_LCD;         // Set SPI_CS_LCD Off [High]
    P4DIR |= UCB1_CS_LCD;         // Set SPI_CS_LCD direction to output

    P4SEL0 |= UCB1CLK;            // UCB1CLK SPI BUS operation
    P4SEL1 &= ~UCB1CLK;           // UCB1CLK SPI BUS operation

    P4SEL0 |= UCB1SIMO;           // UCB1SIMO SPI BUS operation
    P4SEL1 &= ~UCB1SIMO;          // UCB1SIMO SPI BUS operation

    P4SEL0 |= UCB1SOMI;           // UCB1SOMI SPI BUS operation
    P4SEL1 &= ~UCB1SOMI;          // UCB1SOMI SPI BUS operation
//------------------------------------------------------------------------------
}
